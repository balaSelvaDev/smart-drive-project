<div class="hero-section">
    <div class="overlay">
        <form [formGroup]="locationAndDate" class="form-box">
            <div>
                <h1 class="title">
                    Welcome to the SmartDrive
                </h1>
            </div>

            <!-- Pickup input -->
            <div class="input-group">
                <label for="pickup">Pickup location:</label>
                <input type="text" id="pickup" placeholder="Enter a pickup location" formControlName="pickupLocation" />
            </div>
            <div style="display: flex; justify-content: end;">
                <span (click)="onUseCurrentLocation()" style="font-size: 12px;padding: 2px 4px;cursor: pointer;">Current Location üìç</span>
            </div>

            <!-- Drop input -->
            <div class="input-group m-0">
                <label for="drop">Drop location:</label>
                <input type="text" id="drop" placeholder="Enter a drop location" formControlName="dropLocation" />
            </div>

            <!-- Dates -->
            <div class="date-group">
                <div>
                    <label for="startDate">Start Date:</label>
                    <input type="text" id="startDate" readonly formControlName="pickupDateTime"
                        (click)="openPicker(pickerModal)" [value]="this.selectedFromFormattedRange" />
                </div>
                <div>
                    <label for="endDate">End Date:</label>
                    <input type="text" id="endDate" readonly formControlName="dropDateTime"
                        (click)="openPicker(pickerModal)" [value]="this.selectedToFormattedRange" />
                </div>
            </div>

            <button type="button" (click)="goToSearchResults()" class="submit-btn">
                Submit
            </button>
        </form>
    </div>
</div>
<!-- <button (click)="onUseCurrentLocation()">üìç Use Current Location</button>
<p *ngIf="currentLocationName">Your Location: <strong>{{ currentLocationName }}</strong></p>
<ul *ngIf="distanceResults.length > 0">
    <li *ngFor="let result of distanceResults">
        {{ result.destination }} ‚Äì {{ result.distance }} ({{ result.duration }})
    </li>
</ul> -->

<div class="why-section">
    <p class="sub-title">SELF-DRIVE CAR RENTALS IN MADURAI</p>
    <h2 class="main-title">
        WHY MADURAI SELF-DRIVE CARS IS THE BEST CHOICE
    </h2>
    <p class="description">
        Rent a self-drive car in Madurai with ease. Enjoy quick booking, transparent pricing,
        prompt delivery to your doorstep, and a hassle-free experience every time you choose us.
    </p>

    <div class="features">
        <div class="feature-card">
            <div class="icon">‚ù§Ô∏è</div>
            <h3>EASY BOOKING PROCESS</h3>
            <p>
                All you need to do is Dial or Text to book a ride, we‚Äôll deliver the Best,
                at your door step. Rent and ride with your loved ones with pride.
            </p>
        </div>

        <div class="feature-card">
            <div class="icon">üè†</div>
            <h3>DOOR STEP DELIVERY</h3>
            <p>
                Whether you'd like to pick up your car at one of our many pickup points around everywhere.
                We deliver it to your preferred location on time.
            </p>
        </div>

        <div class="feature-card">
            <div class="icon">üí∞</div>
            <h3>NO HIDDEN CHARGES</h3>
            <p>
                We offer full price transparency and charge no hidden costs.
                We operate simply by displaying the most relevant, cost-effective offers.
            </p>
        </div>

        <div class="feature-card">
            <div class="icon">üí∏</div>
            <h3>INSTANT REFUND</h3>
            <p>
                Once you have enjoyed your trip, just return the car to the location of your choice
                & we will process the refund immediately.
            </p>
        </div>
    </div>
</div>

<div class="features-section">
    <div class="feature">
        <i class="icon">üí≥</i>
        <h3>Government Approved</h3>
        <p>Authorized Rental Service</p>
    </div>

    <div class="feature">
        <i class="icon">‚≠ê</i>
        <h3>4.6/5</h3>
        <p>Highly Rated Google reviews</p>
    </div>

    <div class="feature">
        <i class="icon">üòä</i>
        <h3>40k+</h3>
        <p>Happy Customers</p>
    </div>

    <div class="feature">
        <i class="icon">üöò</i>
        <h3>1000+ Fleet</h3>
        <p>Multiple choice of Cars</p>
    </div>
</div>
<br><br>
<div class="container">
    <span>FAQ</span>
    <h1 style="font-size: 24px; font-weight: bold;">If you got questions we have answer..</h1>
</div>
<div class="faq-container">
    <!-- Left Side Image -->
    <div class="faq-left" style="display: flex;justify-content: center;align-items: center;">
        <div class="faq-image-wrapper">
            <img src="https://zonecar.in/public/frontend/assets/images/faq-img.png" alt="Car" />
            <div class="faq-overlay"></div>
        </div>
    </div>

    <!-- Right Side Accordion -->
    <div class="faq-right">
        <div class="accordion">
            <div class="accordion-item" *ngFor="let item of faqList; let i = index">
                <div class="accordion-header" (click)="toggleAccordion(i)">
                    <span>{{ item.title }}</span>
                    <span class="icon">
                        <ng-container *ngIf="activeIndex === i; else plus">‚àí</ng-container>
                        <ng-template #plus>+</ng-template>
                    </span>
                </div>

                <div class="accordion-body" *ngIf="activeIndex === i">
                    <p>{{ item.content }}</p>
                </div>
            </div>
        </div>
    </div>
</div>



<ng-template #pickerModal let-modal>
    <div class="modal-header bg-primary text-white">
        <h2 class="modal-title m-0">Select Trip Date & Time</h2>
        <button type="button" class="btn-close btn-close-white" (click)="modal.dismiss()"></button>
    </div>

    <div class="modal-body">
        <div style="display: flex; justify-content: center; align-items: center;">
            <!-- Two months side by side -->
            <ngb-datepicker #dp [displayMonths]="2" [dayTemplate]="t" outsideDays="hidden"
                (dateSelect)="onDateSelection($event)"
                [startDate]="fromDate || {year: today.getFullYear(), month: today.getMonth()+1}"
                [markDisabled]="isDisabled">
            </ngb-datepicker>
        </div>

        <ng-template #t let-date let-focused="focused">
            <span class="custom-day" [class.focused]="focused" [class.range]="isRange(date)"
                [class.filled]="isInside(date)" [class.start]="isFrom(date)" [class.end]="isTo(date)"
                [class.invalid]="isInvalid(date)">
                {{ date.day }}
            </span>
        </ng-template>

        <!-- Time Pickers -->
        <div class="row mt-4">
            <div class="col-md-6" style="display: flex;justify-content: center;">
                <label class="fw-bold">From Time</label>
                <ngb-timepicker [(ngModel)]="fromTime" [meridian]="true"></ngb-timepicker>
            </div>
            <div class="col-md-6" style="display: flex;justify-content: center;">
                <label class="fw-bold">To Time</label>
                <ngb-timepicker [(ngModel)]="toTime" [meridian]="true"></ngb-timepicker>
            </div>
        </div>

        <!-- Validation error -->
        <div *ngIf="validationError" class="alert alert-danger mt-3">
            {{ validationError }}
        </div>
    </div>

    <div class="modal-footer">
        <button class="btn btn-outline-secondary" (click)="modal.dismiss()">Cancel</button>
        <button class="btn btn-success" [disabled]="validationError !== ''"
            (click)="applySelection(modal)">Apply</button>
    </div>
</ng-template>